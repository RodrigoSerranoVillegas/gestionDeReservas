extends layout

block styles
  link(rel="stylesheet" href="/reservar.css")

block content
  .reserva-container
    .reserva-card
      .reserva-header
        h1 Reserva en lÃ­nea
        if user
          a.btn-volver(href="/dashboard") â† Volver al Dashboard
        else
          a.btn-volver(href="/inicio") â† Volver

      if error
        .reserva-error #{error}
        if horariosAlternativos && horariosAlternativos.length > 0
          .horarios-alternativos
            h3 Horarios Alternativos Disponibles:
            ul
              each horaAlt in horariosAlternativos
                li
                  form.inline-form(method="POST" action="/reservar" style="display: inline;")
                    input(type="hidden" name="nombre" value=(form && form.nombre) || '')
                    input(type="hidden" name="telefono" value=(form && form.telefono) || '')
                    input(type="hidden" name="email" value=(form && form.email) || '')
                    input(type="hidden" name="fecha" value=(form && form.fecha) || fecha || '')
                    input(type="hidden" name="hora" value=horaAlt)
                    input(type="hidden" name="numero_personas" value=(form && form.numero_personas) || numero_personas || 1)
                    input(type="hidden" name="observaciones" value=(form && form.observaciones) || '')
                    button.btn-small(type="submit") #{horaAlt}
      if success
        .reserva-success #{success}

      form(method="POST", action="/reservar")
        .form-group
          label(for="nombre") Nombre completo
          input#nombre.form-input(type="text", name="nombre", value=(form && form.nombre) || '')
        .form-group
          label(for="telefono") TelÃ©fono
          input#telefono.form-input(type="text", name="telefono", value=(form && form.telefono) || '')
        .form-group
          label(for="email") Email (opcional)
          input#email.form-input(type="email", name="email", value=(form && form.email) || '')
        .form-group
          label(for="fecha") Fecha
          input#fecha.form-input(type="date", name="fecha", value=(form && form.fecha) || '')
        .form-group
          label(for="hora") Hora
          input#hora.form-input(type="time", name="hora", value=(form && form.hora) || '')
        .form-group
          label(for="numero_personas") NÃºmero de personas
          input#numero_personas.form-input(type="number", name="numero_personas", min="1", value=(form && form.numero_personas) || 1)
        .form-group
          label(for="observaciones") Observaciones (ej: alergias)
          textarea#observaciones.form-input(name="observaciones") #{(form && form.observaciones) || ''}
        button.reserva-btn(type="submit") Reservar
              // ðŸ”™ BotÃ³n de volver
      a.volver-btn(href="/dashboard") Volver

