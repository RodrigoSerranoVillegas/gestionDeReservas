extends layout

block content
  .auth-container
    .auth-card
      h1.auth-title Recuperar Contrase침a
      p.auth-subtitle Ingresa tu correo electr칩nico para recibir un enlace de recuperaci칩n
      
      if error
        .error #{error}
      
      if success
        .success 
          p(style="margin-bottom: 10px;") #{success}
          if token
            p(style="font-size: 0.9rem; margin-top: 10px;") 
              | En producci칩n, este enlace se enviar칤a por email. 
              | En desarrollo, puedes copiarlo desde abajo.
        if token
          .token-info
            p 
              strong 游댕 Enlace de recuperaci칩n (solo desarrollo):
            .token-link
              a(href=url target="_blank") #{req.protocol}://#{req.get('host')}#{url}
            p(style="margin-top: 15px; font-size: 0.85rem; color: #666;")
              | O copia el token y ve a: 
              code /reset-password/[token]
            .token-display
              label(style="display: block; margin-bottom: 5px; font-size: 0.85rem; font-weight: 600;") Token:
              input(
                type="text"
                value=token
                readonly
                onclick="this.select(); document.execCommand('copy');"
                style="width: 100%; padding: 8px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; font-family: monospace; font-size: 0.8rem; cursor: pointer;"
              )
              p(style="margin-top: 5px; font-size: 0.75rem; color: #28a745;") 
                | 游눠 Haz clic en el token para copiarlo autom치ticamente
            p(style="margin-top: 15px;")
              a.btn.btn-primary(href=url) Ir a restablecer contrase침a
      
      form.auth-form(method="POST" action="/forgot-password")
        .form-group
          label.form-label(for="email") Correo electr칩nico
          input.form-input(
            type="email"
            id="email"
            name="email"
            placeholder="tu@email.com"
            required
            autofocus
          )
        
        button.btn.btn-primary(type="submit") Enviar enlace de recuperaci칩n
      
      p.auth-footer
        | Recordaste tu contrase침a? 
        a(href="/login") Inicia sesi칩n aqu칤
        br
        | 쯅o tienes cuenta? 
        a(href="/registro") Reg칤strate aqu칤
