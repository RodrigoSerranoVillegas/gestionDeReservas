extends ../layout

block styles
  link(rel="stylesheet" href="/styles.css")

block content
  .container
    h1 Todas las Reservas
    .actions
      a.btn(href="/reservas/nueva") Nueva Reserva (Interna)
      a.btn(href="/reservar") Reserva PÃºblica
      a.btn(href="/dashboard") Dashboard

    if reservas && reservas.length > 0
      table.reservas-table
        thead
          tr
            th ID
            th Fecha
            th Hora
            th Cliente
            th Personas
            th Mesa
            th Estado
            th Canal
            th Acciones
        tbody
          each r in reservas
            tr(class=r.estado === 'cancelada' || r.estado === 'no_show' ? 'cancelled' : '')
              td #{r.id_reserva}
              td #{r.fecha_reserva}
              td #{r.hora_inicio}
              td #{r.cliente_nombre || 'N/A'}
              td #{r.numero_personas}
              td #{r.mesa_nombre || 'Sin asignar'}
              td 
                span.estado-badge(class=`estado-${r.estado}`) #{r.estado}
              td #{r.canal}
              td
                a.btn-small(href=`/reservas/${r.id_reserva}`) Ver
                a.btn-small(href=`/reservas/${r.id_reserva}/editar`) Editar/Reagendar
    else
      p No hay reservas registradas.

